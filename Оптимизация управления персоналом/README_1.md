# Оптимизация управления персоналом
Учебный проект

HR-аналитики компании «Работа с заботой» помогают бизнесу оптимизировать управление персоналом: бизнес предоставляет данные, а аналитики предлагают, как избежать финансовых потерь и оттока сотрудников. В этом HR-аналитикам пригодится машинное обучение, с помощью которого получится быстрее и точнее отвечать на вопросы бизнеса. Компания предоставила данные с характеристиками сотрудников компании. Среди них — уровень удовлетворённости сотрудника работой в компании. Эту информацию получили из форм обратной связи: сотрудники заполняют тест-опросник, и по его результатам рассчитывается доля их удовлетворённости от 0 до 1, где 0 — совершенно неудовлетворён, 1 — полностью удовлетворён. Собирать данные такими опросниками не так легко: компания большая, и всех сотрудников надо сначала оповестить об опросе, а затем проследить, что все его прошли.

## Цели проекта:

Первая — построить модель, которая сможет предсказать уровень удовлетворённости сотрудника на основе данных заказчика.
    
Вторая — построить модель, которая сможет на основе данных заказчика предсказать то, что сотрудник уволится из компании.

## Использовала библиотеки:
- import pandas as pd
- import matplotlib.pyplot as plt
- import seaborn as sns
- import os
- from sklearn.model_selection import train_test_split
- from sklearn.preprocessing import PolynomialFeatures
- from sklearn.preprocessing import OneHotEncoder, OrdinalEncoder, StandardScaler, MinMaxScaler
- from sklearn.model_selection import GridSearchCV
- import numpy as np
- from sklearn.linear_model import LogisticRegression
- from sklearn.metrics import make_scorer, confusion_matrix
- from sklearn.tree import plot_tree
- import phik
- from sklearn.model_selection import cross_val_score
- from sklearn.pipeline import Pipeline
- from sklearn.compose import ColumnTransformer
- from sklearn.impute import SimpleImputer
- from sklearn.metrics import roc_auc_score
- from sklearn.model_selection import RandomizedSearchCV
- from sklearn.linear_model import LinearRegression
- from sklearn.neighbors import KNeighborsClassifier
- from sklearn.tree import DecisionTreeClassifier, DecisionTreeRegressor
- from sklearn.inspection import permutation_importance
- from sklearn.feature_selection import SelectKBest
- from sklearn.feature_selection import f_classif, mutual_info_classif
- from sklearn.preprocessing import LabelEncoder

## Общий вывод:
Для каждой задачи данные представлены в трех файлах: отдельно тренировочные данные, отдельно входные тестовые данные и отдельно целевой признак тестовых данных. Данные первой задачи прошли предобработку, исследовательский анализ, подготовку данных в паплайне. Я создала новую метрику SMAPE для проверки качества модели. Проверила метрику на линейной регрессии и дереве решений. Дерево решений показало лучшую метрику. Далее различными методами подобрала лучшие гиперпараметры для дерева решений. GridSearchCV подобрал лучшие параметры, модель показала метрику 14,6 на тестовой выборке. Попытка улучшить метрику отбором признаков не увенчалась успехом. Но анализ признаков показал, что уровень удовлетворенности работников работой стоит обратить внимание на оценку руководителей работой сотрудников, нарушение трудового договора, длительность работы в компании, уровень должности. Кроме уровня должности, на этот набор факторов компания повлиять не может.

Данные второй задачи также прошли предобработку, исследовательский анализ. Составила портрет уволившего сотрудника, который показал, что зарплата уволенных ниже, чем у оставшихся. Проверено, что уволившиеся работники чаще менее удовлетворены работой, чем те, кто остался. У меня возникла гипотеза, что между этими признаками сильная взаимосвязь. В данные был добавлен новый признак job_satisfaction_rate — прогноз удовлетворенности работой новым набором сотрудников.

Далее данные подготовила паплайном, и RandomizedSearchCV выбрал лучшую модель дерево решений с лучшими гиперпараметрами. Метрика этой модели 90. Следующим шагом проанализировала признаки модели на значимость. Оказалось, что удовлетворенность работой не сильно влияет на факт увольнения. А устранение наименее значимых признаков и использование паплайна для выбора новой лучшей модели и гиперпараметров привелов к модели ближайших соседей и метрике 91,5. Эта модель поможет предсказать увольнение и даст возможность компании задержать ценные кадры, приняв во внимание, что больше всего на факт увольнения влияют: длительность работы в компании, уровень должности, оценка качества работы, зарплата. На зарплату и уровень должности компания в силах повлиять.

Дала рекомендации для бизнеса: давать повышение должности ценным кадрам, на которых укажут руководители, увеличивать зарплату. Я бы посоветовала добавить признаки при сборе данных: степень удовлетворенность работника коллективом, кто влияет на плохую оценку коллектива, степень удовлетворенность работника руководителем.
